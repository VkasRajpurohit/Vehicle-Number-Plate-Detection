{% extends 'base.html' %}
{% block body %}

<!-- Navigation bar -->
<nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container-fluid">
        <div class="bg-success p-2 text-dark bg-opacity-50"><a class="navbar-brand" >Vehicle Number Plate Detection</a></div>

      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item"><a class="nav-link active" aria-current="page" href="/"> Home</a></li>
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                    Link</a>
                <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                    <li><a class="dropdown-item" href="https://github.com/VkasRajpurohit" target="_blank" rel="noopener noreferrer">GitHub Profile</a></li>
                    <li><a class="dropdown-item" href="https://github.com/VkasRajpurohit/Vehicle-Number-Plate-Detection" target="_blank" rel="noopener noreferrer">Code-Repo</a></li>
                </ul>
            </li>
            <li class="nav-item"><a class="nav-link" href="/about">About</a></li>
            <li class="nav-item"><a class="nav-link" href="/contact">Contact me</a></li>
        </ul>
      </div>
    </div>
</nav>

<!-- Upload file -->
<div class="content"><br>
    <h2 style="text-align: center"><i>Vehicle Number Plate Detection</i></h2>
    <div class="navbar navbar-light" style="background-color: #e3f2fd;"><b>Note: Please upload a vehicle image file, for which you would like to extract the number plate. </b></div>
    <div class="form" >
        <form action="/result" method="POST" enctype=multipart/form-data>
             <label for="image_name"> <b>Upload Vehicle Image: </b></label>
             <input type="file" name="image_name" id="image_name" value="" required>
             <input type="submit" value="Upload">
        </form>
    </div><br>
</div>

<!-- Show Image -->
{% if upload %}
<div class="container">
    <div class="card border-dark mb-3" style="width: 45%">
      <div class="card-header">Uploaded Image</div>
      <div class="card-body text-dark">
          <img class="img-thumbnail" src="/static/upload/{{upload_image}}" alt=""/>
      </div>
    </div>
</div>

<!-- Show Result -->
<div class="container">
  <table style="border: solid black; width: 45%">
    <tr style="border: solid black text-align: center"><th><h4>Extract Number plate : </h4></th>
        <td style="background-color: #c1dce0"><h3 class="display-8">{{ extracted_text }}</h3></td>
    </tr>
  </table>
</div>

{% endif %}
    <!-- Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
{% endblock body %}